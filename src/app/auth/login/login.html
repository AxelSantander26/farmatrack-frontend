<header class="header" role="banner">
    <div class="logo">
        <lucide-icon name="pill" class="logo-icon"></lucide-icon>
        <span class="logo-text">Farma<span>Track</span></span>
    </div>
    <nav class="nav-links" role="navigation">
        <a href="#"><lucide-icon name="info" class="nav-icon"></lucide-icon> Acerca de</a>
        <a href="#"><lucide-icon name="phone" class="nav-icon"></lucide-icon> Contacto</a>
        <a href="#"><lucide-icon name="help-circle" class="nav-icon"></lucide-icon> Soporte</a>
    </nav>
</header>

<main class="main-content">
    <div class="login-container">
        <div class="login-card">
            <div class="login-header">
                <h1 class="login-title">Iniciar Sesión</h1>
                <p class="login-subtitle">Ingresa tus credenciales para acceder al sistema interno</p>
            </div>

            <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
                <div class="form-group">
                    <div class="input-wrapper">
                        <lucide-icon name="user" class="input-icon"></lucide-icon>
                        <input type="text" formControlName="username" placeholder="Usuario" autocomplete="username"
                            autofocus required>
                    </div>
                    @if (username?.invalid && (username?.dirty || username?.touched)) {
                    @if (username?.hasError('required')) {
                    <span class="error-text">El usuario es obligatorio</span>
                    }
                    }
                </div>

                <div class="form-group">
                    <div class="input-wrapper">
                        <lucide-icon name="lock" class="input-icon"></lucide-icon>
                        <input type="password" formControlName="password" placeholder="Contraseña"
                            autocomplete="current-password" required>
                        <span class="toggle-password">
                            <lucide-icon name="eye"></lucide-icon>
                        </span>
                    </div>
                    @if (password?.invalid && (password?.dirty || password?.touched)) {
                    @if (password?.hasError('required')) {
                    <span class="error-text">La contraseña es obligatoria</span>
                    }
                    @if (password?.hasError('minlength')) {
                    <span class="error-text">Mínimo 6 caracteres</span>
                    }
                    }
                </div>

                @if (errorMsg()) {
                <div class="error-message">
                    {{ errorMsg() }}
                </div>
                }

                <button class="btn-login" type="submit" [disabled]="loginForm.invalid || isLoading()">
                    @if (isLoading()) {
                    <span>Iniciando sesión...</span>
                    } @else {
                    <lucide-icon name="log-in" width="18" height="18"></lucide-icon>
                    <span>Ingresar al sistema</span>
                    }
                </button>
            </form>
        </div>
    </div>
</main>

<footer class="footer" role="contentinfo">
    <div>&copy; 2025 FarmaTrack · Sistema interno corporativo</div>
    <div class="corporate-info">
        <a href="#">Políticas de uso</a>
        <a href="#">Soporte técnico</a>
        <a href="#">Confidencialidad</a>
    </div>
</footer>